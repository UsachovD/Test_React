<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <link rel="stylesheet" href="css/main.css">
    <title>Hello World</title>
    <script src="js/DataBase.js"></script>
    <script src="js/react.js"></script>
    <script src="js/react-dom.js"></script>
    <script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js">
    </script>
  </head>
  <body>
    <div id="program"></div>
    <script type="text/babel">
    const app = document.getElementById("program");
    class ContactList extends React.Component{
      constructor(props) {
        super(props);
        this.state = {displayedContacts: DataBase};
      }

      handleSearch = (event) =>{
        var key = event.target.value.toLowerCase();
        var displayedContacts= DataBase.filter(function(el) {
          var searchValue = el.name.toLowerCase();
          return searchValue.indexOf(key) !== -1;
        });

        this.setState({displayedContacts:displayedContacts});

      }

      render(){
        return (
          <div className="contacts">
          <input type="text" className="search" onChange = {this.handleSearch}/>
            <ul className="contacts-list">
              {
                this.state.displayedContacts.map(function(el){
                  return <Contact
                      key={el.id}
                      name={el.name}
                      surname={el.surname}
                  />;
                })
              }
            </ul>
          <input type="button" className="search" onClick="addContact" value="Add Contact"/>
          </div>
        )
      };
    };
    class Contact extends React.Component{
      constructor(props) {
        super(props);
      }
      render(){
        return <li className="contact">
                  <div className="contact-name">{this.props.name}{this.props.surname}</div>
              </li>;
      };
    }
    ReactDOM.render (
      <div>
        <h1><ContactList/></h1>
      </div>, app);
  </script>ï»¿


  </body>
</html>
